<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <script src="https://apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js"></script>
    <script
      src="https://stackpath.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"
      integrity="sha384-aJ21OjlMXNL5UyIl/XNwTMqvzeRMZH2w8c5cRVpzpU8Y5bApTppSuUkhZXN0VxHd"
      crossorigin="anonymous"
    ></script>
    <script src="../layer/layer-v3.5.1/layer/layer.js"></script>
  </head>
  <body>
    <button class="btn_child_frame">点击弹出</button>

    <div id="open" style="display: none">
      <form>
        <div class="form-group">
          <label for="exampleInputEmail1">Email address</label>
          <input
            type="email"
            class="form-control"
            id="exampleInputEmail1"
            placeholder="Email"
            required
          />
        </div>
        <div class="form-group">
          <label for="exampleInputPassword1" id="one">Password</label>
          <input
            type="password"
            class="form-control"
            id="exampleInputPassword1"
            placeholder="Password"
          />
        </div>
        <div class="form-group">
          <label for="exampleInputFile">File input</label>
          <input type="file" id="exampleInputFile" />
          <p class="help-block">Example block-level help text here.</p>
        </div>
        <div class="checkbox">
          <label> <input type="checkbox" /> Check me out </label>
        </div>
      </form>
      <span style="display: none" id="tow">请输入</span>
    </div>
    <script>
      $(".btn_child_frame").on("click", function () {
        layer.open({
          type: 1,
          closeBtn: 1,
          title: "验证表单",
          area: ["450px", "540px"],
          content: $("#open"),
          btn: ["确定", "取消"],
          yes: function (index, layero) {
            //do something
            // console.log(this);
            // alert("点击了确定");
            console.log(index, layero);
            let d = layero.context.getElementById("one");
            console.log(d, d.innerHTML, "d");
            let data = layero.context.getElementById("exampleInputPassword1");
            console.log(data, data.value, "data");
            // layer.close(index); //如果设定了yes回调，需进行手工关闭
            let x = (layero.context.getElementById("tow").style.display =
              "block");
            console.log(x);
          },
          btn2: function (index, layero) {
            alert("点击了取消");
            layer.close(index);
          },
        });
      });
    </script>
  </body>
</html>
